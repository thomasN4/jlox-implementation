[[file:ch6challenges.png]]

Precedence: comma < expression < ternary < equality < ... < literal

1. comma -> equality "," comma | equality ;
   #+BEGIN_SRC java
     private Expr comma() {
     	Expr expr = equality();
     	
     	if (match(COMMA)) {
     		Token operator = previous();
     		Expr right = comma();
     		expr = new Expr.Binary(expr, operator, right);
     	}
     	
     	return expr;
     }
   #+END_SRC

2. ternary -> equality "?" ternary ":" ternary | equality ;
   #+BEGIN_SRC java
     private Expr ternary() {
     	Expr condition = equality();

     	if (!match(INTERR)) return condition;

     	Token interr = previous();
     	Expr t_branch = ternary();

     	if (!match(COLON)) throw error(peek(), "Expect colon.");

     	Token colon = previous();
     	Expr f_branch = ternary();

     	return new Expr.Ternary(condition, interr, t_branch, colon, f_branch);
     }
   #+END_SRC

3. unary -> ( "+" | "*" | "/" | "=" | "==" | "!=" | "<" | ">" | "<=" | ">=" | "-" | "!" )
            unary | primary ;
   See source code.
